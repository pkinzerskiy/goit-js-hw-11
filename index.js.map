{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\"use strict\";\n\n\nimport axios from \"axios\";\nconst myKey = \"49810610-79c0179868d457ece08d99a45\";\n\n\n\nexport function getImagesByQuery(query) {\n    console.log(\"query\",query );\n   return axios(\"https://pixabay.com/api/\", {\n        params: {\n            key: myKey,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true\n        }\n    })\n}\n\n","\"use strict\";\nconst container = document.querySelector(\".gallery\");\n// приймає масив images, створювати HTML-розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh(). Нічого не повертає.\nconst load = document.querySelector(\".load\");\n\nexport function createGallery(images) {\n    console.log(\"createGallery\",images);\n container.innerHTML = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n  <a class=\"item-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    <ul class=\"statistic-list\">\n      <li class=\"statistic-item\">\n        <p class=\"statistic-text\">Likes</p>\n        <p class=\"statistic-value\">${likes}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <p class=\"statistic-text\">Views</p>\n        <p class=\"statistic-value\">${views}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <p class=\"statistic-text\">Comments</p>\n        <p class=\"statistic-value\">${comments}</p>\n      </li>\n      <li class=\"statistic-item\">\n        <p class=\"statistic-text\">Downloads</p>\n        <p class=\"statistic-value\">${downloads}</p>\n      </li>\n    </ul></a\n  >\n</li>`\n    )\n    .join('');\n};\n\n// нічого не приймає та повинна очищати вміст контейнера галереї. Нічого не повертає.\nexport function clearGallery() {\n    container.innerHTML = '';\n};\n// повинна додавати клас для відображення лоадера. Нічого не повертає.\nexport function showLoader() {\n    load.classList.add('loader');    \n};\n//нічого не приймає, повинна прибирати клас для відображення лоадера. Нічого не повертає.\nexport function hideLoader() {\n    load.classList.remove('loader');\n}\n\n\n","\"use strict\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\n\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst container = document.querySelector(\".gallery\");\n\nconst form = document.querySelector(\"form\");\nform.addEventListener(\"submit\", processingBtn);\n\nfunction processingBtn(event) {\n    event.preventDefault();\n    clearGallery();\n\n    let query = event.target.elements.searchText.value.trim();\n    \n    if (query.match(/^\\u0020{0,}$/)) {\n        message('Sorry, Please input query!');\n        clearGallery();\n        return;\n    }\n    \n    showLoader();\n\n    console.log(\"query\", query );\n    getImagesByQuery(query)\n        .then(response => {\n            const data = response.data.hits;\n            console.log(\"response:\", response.data.hits);\n            if (!response.data.hits.length) {\n                console.log(\"totalHits\", response.data.total);\n                hideLoader();\n                message('Sorry, there are no images matching your search query. Please try again!');\n                return;\n            }\n            hideLoader();\n            createGallery(data);\n            createLightBox() \n        })\n        .catch(error => console.log(error.message));\n    \n    form.reset();\n}\n\nfunction createLightBox() {\n  let galleryLightBox = new SimpleLightbox('.gallery li a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  galleryLightBox.refresh();\n}\n\nfunction message(msg) {\n    iziToast.show({\n        message: msg,\n        messageColor: 'white', // blue, red, \n        backgroundColor: 'red',\n        position: 'topRight',\n        iconUrl: './img/cirlcle-error.svg',\n        iconColor: 'white'\n    });\n}\n\n"],"names":["myKey","getImagesByQuery","query","axios","container","load","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","processingBtn","event","message","response","data","createLightBox","error","SimpleLightbox","msg","iziToast"],"mappings":"owBAIA,MAAMA,EAAQ,qCAIP,SAASC,EAAiBC,EAAO,CACpC,eAAQ,IAAI,QAAQA,GACdC,EAAM,2BAA4B,CACpC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,CACL,CClBA,MAAME,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAO,SAAS,cAAc,OAAO,EAEpC,SAASC,EAAcC,EAAQ,CAClC,QAAQ,IAAI,gBAAgBA,CAAM,EACrCH,EAAU,UAAYG,EAClB,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,+BACmBL,CAAa;AAAA,sCACND,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qCAI3BC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKzC,EACA,KAAK,EAAE,CACZ,CAGO,SAASC,GAAe,CAC3BX,EAAU,UAAY,EAC1B,CAEO,SAASY,GAAa,CACzBX,EAAK,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASY,GAAa,CACzBZ,EAAK,UAAU,OAAO,QAAQ,CAClC,CC5CkB,SAAS,cAAc,UAAU,EAEnD,MAAMa,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,iBAAiB,SAAUC,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpBL,IAEA,IAAIb,EAAQkB,EAAM,OAAO,SAAS,WAAW,MAAM,OAEnD,GAAIlB,EAAM,MAAM,cAAc,EAAG,CAC7BmB,EAAQ,4BAA4B,EACpCN,IACA,MACH,CAEDC,IAEA,QAAQ,IAAI,QAASd,GACrBD,EAAiBC,CAAK,EACjB,KAAKoB,GAAY,CACd,MAAMC,EAAOD,EAAS,KAAK,KAE3B,GADA,QAAQ,IAAI,YAAaA,EAAS,KAAK,IAAI,EACvC,CAACA,EAAS,KAAK,KAAK,OAAQ,CAC5B,QAAQ,IAAI,YAAaA,EAAS,KAAK,KAAK,EAC5CL,IACAI,EAAQ,0EAA0E,EAClF,MACH,CACDJ,IACAX,EAAciB,CAAI,EAClBC,EAAgB,CAC5B,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,EAE9CP,EAAK,MAAK,CACd,CAEA,SAASM,GAAiB,CACF,IAAIE,EAAe,gBAAiB,CACxD,aAAc,MACd,aAAc,GAClB,CAAG,EACe,QAAO,CACzB,CAEA,SAASL,EAAQM,EAAK,CAClBC,EAAS,KAAK,CACV,QAASD,EACT,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,QAAS,0BACT,UAAW,OACnB,CAAK,CACL"}